#!/bin/bash

source ./urls

template="template.html"
out_dir="dist"

empty_dir() {
	local dir=$1
	rm -rf $dir && mkdir $dir
}

make_page() {
	local short_url=$1
	local full_url=$2
	sed "s|{url}|$full_url|g" $template > "$out_dir/$short_url.html"
}

empty_dir $out_dir

for key in ${!urls[@]};
	do make_page $key ${urls[$key]};
done
